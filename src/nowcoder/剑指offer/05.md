---
title:  05—用两个栈实现队列
---

* * *

**题目链接：** [用两个栈实现队列](https://www.nowcoder.com/practice/54275ddae22f475981afa2244dd448c6?tpId=13&&tqId=11158&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking)

**题目描述：** 用两个栈来实现一个队列，完成队列的Push和Pop操作。 队列中的元素为int类型。

**题目要求：** 时间限制：C/C++ 1秒，其他语言2秒 空间限制：C/C++ 64M，其他语言128M 热度指数：773101

**难度系数：** 简单

**考察知识点：** 栈

**解题思路：** 

（1）push 动作都在 stack1 中进行，需要进行判满：stack2为空时队列不满，stack2不为空且stack1不满时队列不满，只有在 stack2不为空且stack1满的时候将队列视为已满

 （2）pop 动作在stack2中进行。当 stack2 不为空时，直接 pop，当 stack2 为空时，先把 stack1 中的元素 pop 出来并push 到 stack2 中，再从 stack2 中 pop 元素。当两个stack都为空时队列为空

 ::: tip 提示

 Java中Stack可以自动扩容，不需要判满，如果自定义栈结构的话实现需要上述完整步骤

 :::

**代码实现：**

```java
import java.util.Stack;
public class No05 {
    public static void main(String[] args){
        //测试代码
        Solution solution = new No05().new Solution();
        //System.out.println(solution.pop());
        solution.push(2);
        solution.push(3);
        solution.push(4);
        System.out.println(solution.pop());

    }
    //牛客网代码
    public class Solution {
        Stack<Integer> stack1 = new Stack<Integer>();
        Stack<Integer> stack2 = new Stack<Integer>();

        // 入栈，时间复杂度：O(1)，空间复杂度：O(n)
        public void push(int node) {
            stack1.push(node);
        }

        // 出栈，时间复杂度：O(1)，空间复杂度：O(1)
        public int pop() {
            if (this.isEmpty()){
                throw new RuntimeException("Queue is empty!");
            }
            if (stack2.isEmpty()){
                while (!stack1.isEmpty()){
                    stack2.push(stack1.pop());
                }
            }
            return stack2.pop();
        }
        public boolean isEmpty(){
            if (stack2.isEmpty() && stack1.isEmpty()){
                return true;
            }
            return false;
        }
    }
}
```
